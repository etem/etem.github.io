---
layout: post
title:  "Възстановяване на GRUB при Fedora"
date:   2017-03-19 19:42:31
comments : true
categories: linux
---

Открай време използвам няколко ОС на лаптопа, и понякога ми се налага да превключвам между тях. 
Днес ми се наложи да премина от Fedora към Kali и забелязах че GRUB зарежда версия 4.6 на ядрото на Kali, въпреки че последната инсталирана е 4.9 . 
Версията на GRUB която използвам е тази на Fedora, съответно трябваше просто да се върна и да обновя конфигурацията на му, за да мога да заредя новото ядро. 

Установих, че за разлика от Debian базираните дистрибуции, при Fedora няма команда `update-grub`, която да изпълни скрипта за засичане на всички ОС и да регенерира конфигурацитя. 
Вместо това от Fedora са предоставили `grub2-mkconfig`, който би трябвало да върши абсолютно същата работа. 

Да ама не. 
За мое учудване се оказа че самото изпълнение на командата не прави нищо друго, освен да извежда изхода на os-prober на терминала. 
Съответно дори след неговото изпълнение, GRUB пак си зареждаше със старата конфигурация и виждаше старото ядро на Kali. 


Решението както винаги се оказа много просто :) 
За да работи коректно, трябва да се зададе изходен файл на командата където тя ще си запази новата конфигурация. По подразбиране този файл е `/boot/grub2/grub.cfg` при Fedora. 



{% include disqus.html %}
